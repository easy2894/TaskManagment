<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">‚óà</div>
                <h1>TaskFlow</h1>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" data-view="tasks">
                    <span class="nav-icon">‚úì</span>
                    <span>–ó–∞–¥–∞—á–∏</span>
                </button>
                <button class="nav-item" data-view="users">
                    <span class="nav-icon">üë•</span>
                    <span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                </button>
                <button class="nav-item" data-view="roles">
                    <span class="nav-icon">‚öô</span>
                    <span>–†–æ–ª–∏</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <button class="btn-secondary" id="exportBtn">
                    <span>‚Üì</span> –≠–∫—Å–ø–æ—Ä—Ç Excel
                </button>
                <button class="btn-secondary" id="importBtn">
                    <span>‚Üë</span> –ò–º–ø–æ—Ä—Ç Excel
                </button>
                <input type="file" id="fileInput" accept=".xlsx,.xls" style="display: none;">
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <header class="content-header">
                <div class="header-left">
                    <h2 id="pageTitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</h2>
                    <p class="subtitle" id="pageSubtitle">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ, –Ω–∞–∑–Ω–∞—á–∞–π—Ç–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏</p>
                </div>
                <button class="btn-primary" id="createTaskBtn">
                    <span>+</span> –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </header>

            <!-- –§–∏–ª—å—Ç—Ä—ã -->
            <div class="filters" id="taskFilters">
                <div class="filter-group">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="filterStatus">
                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="new">–ù–æ–≤–∞—è</option>
                        <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                        <option value="review">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <select id="filterPriority">
                        <option value="all">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                        <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</label>
                    <select id="filterAssignee">
                        <option value="all">–í—Å–µ</option>
                    </select>
                </div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
            <div class="content-body" id="tasksView">
                <div id="tasksList" class="tasks-list"></div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
            <div class="content-body hidden" id="usersView">
                <div class="users-header">
                    <button class="btn-primary" id="createUserBtn">
                        <span>+</span> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                </div>
                <div id="usersList" class="users-list"></div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ -->
            <div class="content-body hidden" id="rolesView">
                <div class="roles-header">
                    <button class="btn-primary" id="createRoleBtn">
                        <span>+</span> –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
                    </button>
                </div>
                <div id="rolesList" class="roles-list"></div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∑–∞–¥–∞—á–∏ -->
    <div id="taskModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <input type="hidden" id="taskId">
                    
                    <div class="form-group">
                        <label for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
                        <input type="text" id="taskTitle" required>
                    </div>

                    <div class="form-group">
                        <label for="taskDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="taskDescription" rows="4"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskStatus">–°—Ç–∞—Ç—É—Å *</label>
                            <select id="taskStatus" required>
                                <option value="new">–ù–æ–≤–∞—è</option>
                                <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
                                <option value="review">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
                                <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="taskPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç *</label>
                            <select id="taskPriority" required>
                                <option value="low">–ù–∏–∑–∫–∏–π</option>
                                <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                                <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskAssignee">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</label>
                            <select id="taskAssignee">
                                <option value="">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="taskDeadline">–î–µ–¥–ª–∞–π–Ω</label>
                            <input type="datetime-local" id="taskDeadline">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary modal-close">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="userModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <input type="hidden" id="userId">
                    
                    <div class="form-group">
                        <label for="userName">–ò–º—è *</label>
                        <input type="text" id="userName" required>
                    </div>

                    <div class="form-group">
                        <label for="userEmail">Email *</label>
                        <input type="email" id="userEmail" required>
                    </div>

                    <div class="form-group">
                        <label for="userRole">–†–æ–ª—å</label>
                        <select id="userRole">
                            <option value="">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary modal-close">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–æ–ª–∏ -->
    <div id="roleModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="roleForm">
                    <input type="hidden" id="roleId">
                    
                    <div class="form-group">
                        <label for="roleName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏ *</label>
                        <input type="text" id="roleName" required>
                    </div>

                    <div class="form-group">
                        <label for="roleDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="roleDescription" rows="3"></textarea>
                    </div>

                    <div class="form-group">
                        <label>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</label>
                        <div class="checkbox-group">
                            <label>
                                <input type="checkbox" id="permCreate" value="create">
                                –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏
                            </label>
                            <label>
                                <input type="checkbox" id="permEdit" value="edit">
                                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏
                            </label>
                            <label>
                                <input type="checkbox" id="permDelete" value="delete">
                                –£–¥–∞–ª—è—Ç—å –∑–∞–¥–∞—á–∏
                            </label>
                            <label>
                                <input type="checkbox" id="permAssign" value="assign">
                                –ù–∞–∑–Ω–∞—á–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary modal-close">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications" class="notifications-container"></div>

    <script src="app.js"></script>
</body>
</html>
